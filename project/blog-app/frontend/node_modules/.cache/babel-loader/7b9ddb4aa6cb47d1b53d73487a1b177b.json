{"ast":null,"code":"var _jsxFileName = \"/home/aditya/SemiColon_selenium_tests/project/blog-app/frontend/src/components/pages/AdminPage/AdminPage.component.jsx\";\nimport React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport \"./AdminPage.styles.scss\";\nimport shortid from \"shortid\";\nimport userContext from \"../../../context/userContext\";\nimport { useToast } from \"@chakra-ui/core\";\nimport SEO from \"./../../common/SEO/SEO.component\";\n\nconst AdminPage = () => {\n  const [blogs, setBlogs] = useState();\n  const {\n    userData\n  } = useContext(userContext);\n  const toast = useToast();\n  useEffect(() => {\n    axios.get(process.env.REACT_APP_BACKEND + \"/blogs/unapproved\").then(res => {\n      setBlogs(res.data);\n    }).catch(err => {\n      toast({\n        title: \"Error!\",\n        description: \"Error while approving the blog\"\n      });\n    });\n  }, []);\n\n  const handleApproval = (isApproved, blogObj) => {\n    const reqURL = `/blogs/${blogObj._id}`;\n    const options = {\n      headers: {\n        \"x-auth-token\": userData.token\n      }\n    };\n    axios.patch(process.env.REACT_APP_BACKEND + reqURL, {\n      isApproved\n    }, options).then(res => {\n      toast({\n        title: \"Post Approved!\"\n      });\n    }).catch(err => toast({\n      title: \"Some error occured while approving.\"\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SEO, {\n    title: \"Command Center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Admin Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, \"BlogID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Content\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Avatar\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, \"Banner URL\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, \"Approved ?\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, blogs && blogs.map((b, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: shortid.generate(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, b._id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, b.title), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 19\n    }\n  }, b.content), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, b.author), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, b.avatar), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, b.bannerURL), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, JSON.stringify(b.isApproved)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleApproval(true, b),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"Approve\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleApproval(false, b),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Disapprove\"))))))));\n};\n\nexport default AdminPage;","map":{"version":3,"sources":["/home/aditya/SemiColon_selenium_tests/project/blog-app/frontend/src/components/pages/AdminPage/AdminPage.component.jsx"],"names":["React","useContext","useState","axios","useEffect","shortid","userContext","useToast","SEO","AdminPage","blogs","setBlogs","userData","toast","get","process","env","REACT_APP_BACKEND","then","res","data","catch","err","title","description","handleApproval","isApproved","blogObj","reqURL","_id","options","headers","token","patch","map","b","i","generate","content","author","avatar","bannerURL","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport \"./AdminPage.styles.scss\";\nimport shortid from \"shortid\";\nimport userContext from \"../../../context/userContext\";\nimport { useToast } from \"@chakra-ui/core\";\nimport SEO from \"./../../common/SEO/SEO.component\";\n\nconst AdminPage = () => {\n  const [blogs, setBlogs] = useState();\n  const { userData } = useContext(userContext);\n  const toast = useToast();\n  useEffect(() => {\n    axios\n      .get(process.env.REACT_APP_BACKEND + \"/blogs/unapproved\")\n      .then((res) => {\n        setBlogs(res.data);\n      })\n      .catch((err) => {\n        toast({\n          title: \"Error!\",\n          description: \"Error while approving the blog\",\n        });\n      });\n  }, []);\n\n  const handleApproval = (isApproved, blogObj) => {\n    const reqURL = `/blogs/${blogObj._id}`;\n\n    const options = {\n      headers: {\n        \"x-auth-token\": userData.token,\n      },\n    };\n    axios\n      .patch(process.env.REACT_APP_BACKEND + reqURL, { isApproved }, options)\n      .then((res) => {\n        toast({\n          title: \"Post Approved!\",\n        });\n      })\n      .catch((err) =>\n        toast({\n          title: \"Some error occured while approving.\",\n        })\n      );\n  };\n  return (\n    <React.Fragment>\n      {/* {JSON.stringify(blogs)} */}\n      <SEO title=\"Command Center\" />\n      <h1>Admin Page</h1>\n      <div className=\"table-container\">\n        <table>\n          <thead>\n            <tr>\n              <th>BlogID</th>\n              <th>Title</th>\n              <th>Content</th>\n              <th>Author</th>\n              <th>Avatar</th>\n              <th>Banner URL</th>\n              <th>Approved ?</th>\n            </tr>\n          </thead>\n          <tbody>\n            {blogs &&\n              blogs.map((b, i) => (\n                <tr key={shortid.generate()}>\n                  <td>{b._id}</td>\n                  <td>{b.title}</td>\n                  <td>{b.content}</td>\n                  <td>{b.author}</td>\n                  <td>{b.avatar}</td>\n                  <td>{b.bannerURL}</td>\n                  <td>{JSON.stringify(b.isApproved)}</td>\n                  <td>\n                    <button onClick={() => handleApproval(true, b)}>\n                      Approve\n                    </button>\n                    <button onClick={() => handleApproval(false, b)}>\n                      Disapprove\n                    </button>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default AdminPage;\n"]},"metadata":{},"sourceType":"module"}