{"ast":null,"code":"var _jsxFileName = \"/home/aditya/SemiColon_selenium_tests/project/blog-app/frontend/src/components/pages/Auth/Login.component.jsx\";\nimport React, { useContext } from \"react\";\nimport { submitService } from \"../../../services/authService\";\nimport { FormControl, FormLabel, FormErrorMessage, FormHelperText, Flex, Box, Input, Heading, useToast, Text, Button } from \"@chakra-ui/core\";\nimport theme from \"../../../themes/theme\";\nimport { useState } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport userContext from \"../../../context/userContext\";\nimport SEO from \"./../../common/SEO/SEO.component\";\n\nconst Login = props => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {\n    setUserData\n  } = useContext(userContext);\n  const toast = useToast();\n  const history = useHistory();\n\n  const handleEmail = e => {\n    const userEmail = e.target.value;\n    setEmail(userEmail);\n  };\n\n  const handlePassword = e => {\n    const userPassword = e.target.value;\n    setPassword(userPassword);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const loginCreds = {\n      email,\n      password\n    };\n    if (!email || !password) return toast({\n      title: \"Please fill all the fields.\"\n    });\n    axios.post(process.env.REACT_APP_BACKEND + \"/user/login\", loginCreds).then(res => {\n      setUserData({\n        token: res.data.token,\n        user: res.data.user,\n        isAdmin: res.data.user.isAdmin\n      });\n      localStorage.setItem(\"x-auth-token\", res.data.token); // localStorage.setItem(\"auth-token\", res.data.token);\n\n      toast({\n        title: \"Logged in !\",\n        status: \"success\"\n      });\n\n      if (res.data.user.isAdmin) {\n        history.push(\"/user/adminPage\");\n      } else {\n        history.push(\"/blogs\");\n      }\n    }).catch(err => {\n      toast({\n        title: \"Error!\",\n        description: err.response.data.msg,\n        isClosable: true,\n        status: \"warning\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SEO, {\n    title: \"Login.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Flex, {\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    w: [\"90%\", \"70%\", \"60%\", \"38%\", \"28%\"],\n    border: \"1px solid #eee\",\n    marginTop: [\"2rem\", \"2rem\", \"4rem\", \"6rem\"],\n    padding: \"2rem\",\n    borderRadius: \"15px\",\n    backgroundColor: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    margin: \"0 auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    fontFamily: theme.fonts.body,\n    letterSpacing: \"-.05em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Login.\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    marginTop: \"2rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: handleEmail,\n    \"aria-describedby\": \"email-helper-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormHelperText, {\n    id: \"email-helper-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"We'll never share your email.\")), /*#__PURE__*/React.createElement(FormControl, {\n    marginTop: \"2rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: handlePassword,\n    \"aria-describedby\": \"email-helper-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    w: \"100%\",\n    color: \"white\",\n    _hover: {\n      color: \"white\"\n    },\n    backgroundImage: theme.colors.gradient,\n    marginTop: \"1.5rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Box, {\n    marginTop: \"1rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, \"Don't have an account ?\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/user/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    color: theme.colors.accent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, \"Register Here.\"))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/aditya/SemiColon_selenium_tests/project/blog-app/frontend/src/components/pages/Auth/Login.component.jsx"],"names":["React","useContext","submitService","FormControl","FormLabel","FormErrorMessage","FormHelperText","Flex","Box","Input","Heading","useToast","Text","Button","theme","useState","useHistory","Link","axios","userContext","SEO","Login","props","email","setEmail","password","setPassword","setUserData","toast","history","handleEmail","e","userEmail","target","value","handlePassword","userPassword","handleSubmit","preventDefault","loginCreds","title","post","process","env","REACT_APP_BACKEND","then","res","token","data","user","isAdmin","localStorage","setItem","status","push","catch","err","description","response","msg","isClosable","fonts","body","color","colors","gradient","accent"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { submitService } from \"../../../services/authService\";\nimport {\n  FormControl,\n  FormLabel,\n  FormErrorMessage,\n  FormHelperText,\n  Flex,\n  Box,\n  Input,\n  Heading,\n  useToast,\n  Text,\n  Button,\n} from \"@chakra-ui/core\";\n\nimport theme from \"../../../themes/theme\";\nimport { useState } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport userContext from \"../../../context/userContext\";\nimport SEO from \"./../../common/SEO/SEO.component\";\n\nconst Login = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { setUserData } = useContext(userContext);\n  const toast = useToast();\n  const history = useHistory();\n  const handleEmail = (e) => {\n    const userEmail = e.target.value;\n    setEmail(userEmail);\n  };\n  const handlePassword = (e) => {\n    const userPassword = e.target.value;\n    setPassword(userPassword);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const loginCreds = { email, password };\n    if (!email || !password)\n      return toast({ title: \"Please fill all the fields.\" });\n    axios\n      .post(process.env.REACT_APP_BACKEND + \"/user/login\", loginCreds)\n      .then((res) => {\n        setUserData({\n          token: res.data.token,\n          user: res.data.user,\n          isAdmin: res.data.user.isAdmin,\n        });\n        localStorage.setItem(\"x-auth-token\", res.data.token);\n        // localStorage.setItem(\"auth-token\", res.data.token);\n\n        toast({\n          title: \"Logged in !\",\n          status: \"success\",\n        });\n        if (res.data.user.isAdmin) {\n          history.push(\"/user/adminPage\");\n        } else {\n          history.push(\"/blogs\");\n        }\n      })\n      .catch((err) => {\n        toast({\n          title: \"Error!\",\n          description: err.response.data.msg,\n          isClosable: true,\n          status: \"warning\",\n        });\n      });\n  };\n\n  return (\n    <React.Fragment>\n      <SEO title=\"Login.\" />\n      <Flex justifyContent=\"center\">\n        <Box\n          w={[\"90%\", \"70%\", \"60%\", \"38%\", \"28%\"]}\n          border=\"1px solid #eee\"\n          marginTop={[\"2rem\", \"2rem\", \"4rem\", \"6rem\"]}\n          padding=\"2rem\"\n          borderRadius=\"15px\"\n          backgroundColor=\"white\"\n        >\n          <Box margin=\"0 auto\">\n            <Heading fontFamily={theme.fonts.body} letterSpacing=\"-.05em\">\n              Login.\n            </Heading>\n          </Box>\n          <form onSubmit={handleSubmit}>\n            <FormControl marginTop=\"2rem\">\n              <FormLabel htmlFor=\"email\">Email address</FormLabel>\n              <Input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                value={email}\n                onChange={handleEmail}\n                aria-describedby=\"email-helper-text\"\n              />\n              <FormHelperText id=\"email-helper-text\">\n                We'll never share your email.\n              </FormHelperText>\n            </FormControl>\n\n            <FormControl marginTop=\"2rem\">\n              <FormLabel htmlFor=\"password\">Password</FormLabel>\n              <Input\n                type=\"password\"\n                id=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={handlePassword}\n                aria-describedby=\"email-helper-text\"\n              />\n            </FormControl>\n            <Button\n              type=\"submit\"\n              w=\"100%\"\n              color=\"white\"\n              _hover={{ color: \"white\" }}\n              backgroundImage={theme.colors.gradient}\n              marginTop=\"1.5rem\"\n            >\n              Login\n            </Button>\n          </form>\n          <Box marginTop=\"1rem\">\n            Don't have an account ?\n            <Link to=\"/user/register\">\n              <Text color={theme.colors.accent}>Register Here.</Text>\n            </Link>\n          </Box>\n        </Box>\n      </Flex>\n    </React.Fragment>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}